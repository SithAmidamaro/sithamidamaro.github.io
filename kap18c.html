<!DOCTYPE html>
<html lang="cs"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Kapitola 18c â€“ VÄ›Å¡tÄ›nÃ­ z run (3/4)</title>
<link rel="stylesheet" href="css/style.css">
<script defer src="js/helpers.js"></script>
</head><body>
<div class="container">
  <div class="nav"><a class="btn" href="kap18b.html">â† ZpÄ›t</a></div>
  <h1>Kapitola 18c â€“ VÄ›Å¡tÄ›nÃ­ z run (3/4)</h1>
  <div class="panel"><div class="dialogue">
  <img src="img/alchymista_mavajici.png" alt="Alchymista" class="avatar">
  <div class="bubble"><p><strong>Alchymista:</strong> â€Vyber 3. runu â€“ <em>VÃSLEDEK</em>. AÅ¥ jsou tÅ™i rÅ¯znÃ© â€“ osud rÃ¡d mluvÃ­ tÅ™emi hlasy.â€œ</p></div>
</div>
<div class="bubble">
  <label class="small">Vyber 3. runu (VÃSLEDEK):</label>
  <div id="grid" class="rune-grid"></div>
  <p id="hint" class="feedback"></p>
</div>
<div id="cont"></div>
<script>
async function renderGrid(){
  const runes = await fetch('data/runes.json').then(r=>r.json());
  const r1 = (localStorage.getItem('r1')||'').toLowerCase();
  const r2 = (localStorage.getItem('r2')||'').toLowerCase();
  const g = document.getElementById('grid');
  g.innerHTML = runes.map(r=>{
    const dis = (r.name.toLowerCase()===r1 || r.name.toLowerCase()===r2) ? 'disabled' : '';
    return `<button class='btn rune-card' ${dis} data-id='${r.id}' onclick='pickRune("${r.id}", "${r.name}")'>
      <img src='runes/${r.id}.png' alt='${r.name}'>
      <span class='caption'>${r.name}</span>
    </button>`;
  }).join('');
}
function pickRune(id, name){
  const r1 = (localStorage.getItem('r1')||'').toLowerCase();
  const r2 = (localStorage.getItem('r2')||'').toLowerCase();
  const n = name.toLowerCase();
  if(n===r1 || n===r2){ document.getElementById('hint').textContent='â€Runy musÃ­ bÃ½t tÅ™i rÅ¯znÃ©.â€œ'; return; }
  localStorage.setItem('r3', name);
  document.getElementById('hint').textContent='';
  document.getElementById('cont').innerHTML = `<a class='continue-btn' href='kap18vestba.html'>ğŸ‘‰ PokraÄovat</a>`;
}
window.addEventListener('DOMContentLoaded', renderGrid);
</script>
</div>
</div>
</body></html>