<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kapitola 7 – Přenosná laboratoř</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="container">
  <div class="nav"><a class="btn" href="kap5.html">← Zpět</a></div>
    <h1>Kapitola 7 – Přenosná laboratoř</h1>
    <div class="panel">
      <div class="dialogue">
        <img src="img/alchymista_mavajici.png" alt="Alchymista" class="avatar">
        <div class="bubble">
          <p><strong>Alchymista:</strong> "Vzpomínám si… míval jsem přenosnou laboratoř – malou krabičku na lektvary, abych mohl míchat elixíry a dělat experimenty i v divočině. Nechal jsem ji… v téhle chatě! Zkus jí najít, určitě tam někde bude."</p>
        </div>
      </div>

      <div class="choices">
        <button onclick="say(1)">„Kde by měla být?“</button>
        <button onclick="say(2)">„K čemu sloužila?“</button>
      </div>
      <div id="out" style="margin-top:10px;"></div>

      <div class="bubble" style="margin-top:10px;">
        <p><strong>Alchymista:</strong> „Až ji najdeš, dej mi vědět.“</p>
        <div class="choices">
          <button onclick="found()">Našla jsem ji.</button>
        </div>
        <div id="cont"></div>
      </div>

  <!-- Footer navigation removed -->
    </div>
  </div>

<script>
function say(n){
  const btns = document.querySelectorAll('.choices button');
  btns.forEach((b,i)=>{
    if(i===n-1) b.classList.add('selected');
    else b.classList.remove('selected');
  });
  const o=document.getElementById('out');
  if(n===1){
    o.innerHTML = `<div class="bubble" style="margin-top:8px;"><p><strong>Alchymista:</strong> "Nevím jistě... Vzpomínám si na šuplík… a jak píšu vzkaz: <strong><em>NEŠAHAT LAMBERTE</em></strong>."</p></div>`;
  }else{
    o.innerHTML = `<div class="bubble" style="margin-top:8px;"><p><strong>Alchymista:</strong> "Byla to moje hrdost. Zaklínači měli jen meče a znamení. Já jim chtěl dát víc – možnost tvořit kdekoli. Elixíry, mutageny… snad i něco, co prolomí kletby."</p></div>`;
  }
}
function found(){
  const cont = document.getElementById('cont');
  cont.innerHTML = `<div class="bubble" style="margin-top:8px;"><p><strong>Alchymista:</strong> "Výborně! Teď máš v rukou mou přenosnou laboratoř – společně zvládneme velké věci. Najdeš tam různé mé experimenty; klidně některé vyzkoušej, určitě se budou hodit. Já mezitím zjistím, co se dá… poptám se mezi stíny lesa. <strong> Ozvi se mi, až budeš hotova s experimenty a až tma pohltí lesy. </strong>"</p></div>
    <div class='input-row' style='margin-top:8px;'>
      <input id='tma' type='text' placeholder='Už je tma?'>
      <button onclick='confirmTma()'>Potvrdit</button>
    </div>
    <p id='hint' class='feedback'></p>
    <div id='next'></div>`;
}

function confirmTma(){
  const v = document.getElementById('tma').value.trim();
  const btns = document.querySelectorAll('.bubble .choices button');
  btns.forEach((b)=>{
    if(b.textContent.includes('Našla jsem ji')) b.classList.add('selected');
    else b.classList.remove('selected');
  });
  const cont = document.getElementById('cont');
  cont.innerHTML = `<div class="bubble" style="margin-top:8px;"><p><strong>Alchymista:</strong> "Výborně! Teď máš v rukou mou přenosnou laboratoř – společně zvládneme velké věci. Najdeš tam různé mé experimenty; klidně některé vyzkoušej, určitě se budou hodit. Já mezitím zjistím, co se dá… poptám se mezi stíny lesa. <strong> Ozvi se mi, až budeš hotova s experimenty a až tma pohltí lesy. </strong>"</p></div>`;
}
</script>
</body>
</html>
