<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kapitola 8 â€“ KrystalovÃ¡ lampa</title>
  <link rel="stylesheet" href="css/style.css">
  <script defer src="js/helpers.js"></script>
</head>
<body>
  <div class="container">
    <div class="nav">
      <a href="kap7c.html">â† ZpÄ›t</a>
    </div>
    <h1>Kapitola 8 â€“ KrystalovÃ¡ lampa</h1>
    <div class="panel">
      <div class="dialogue">
        <img src="img/alchymista_mavajici.png" alt="Alchymista" class="avatar">
        <div class="bubble">
          <p><strong>Alchymista:</strong> "Anoâ€¦ uÅ¾ to vidÃ­m jasnÄ›! 'ZesÃ­lenÃ¡ KoÄka' a moje 'FialovÃ¡ lampa' â€“ dohromady ukÃ¡Å¾ou vÃ­c, neÅ¾ by kdy ukÃ¡zal dennÃ­ svit. Lampa je v podkrovÃ­ chaty, v truhlici."</p>
        </div>
      </div>

      <div class="choices">
        <button onclick="say(1)">â€K Äemu 'FialovÃ¡ lampa' slouÅ¾Ã­?â€œ</button>
        <button onclick="say(2)">â€Z Äeho je vyrobenÃ¡?â€œ</button>
        <button onclick="say(3)">â€MÃ¡m ji!â€œ</button>
      </div>
      <div id="out" style="margin-top:10px;"></div>

      <div class="bubble" style="margin-top:10px;">
        <p><strong>Kotva:</strong> Vypij 'ZesÃ­lenou koÄku' a jdi pod schody chaty â€“ zanechal jsem ti tam znamenÃ­ (runa ochrany) s rozsvÃ­cenou lampou ho uvidÃ­Å¡. NapiÅ¡ jmÃ©no runy abych vÄ›dÄ›li, Å¾e funguje. <em>(SprÃ¡vnÄ›: Algiz, pÅ™Ã­p. â€Zâ€œ)</em></p>
        <div class="input-row">
          <input id="runa" type="text" placeholder="JakÃ¡ je to runa?">
          <button onclick="check()">Potvrdit</button>
        </div>
        <p id="hint" class="feedback"></p>
        <div id="cont"></div>
      </div>

      <div class="footer-nav">
        <a class="btn" href="#" onclick="history.back();return false;">â† ZpÄ›t</a>
      </div>
    </div>
  </div>

<script>
function say(n){
  const o=document.getElementById('out');
  if(n===1){
    o.innerHTML = `<div class="bubble" style="margin-top:8px;"><p><strong>Alchymista:</strong> "Lampa odhaluje skrytÃ©. Ale pro oÄi smrtelnÃ­ku, je to bÄ›Å¾nÃ¡ lampiÄka. To pro tebe neplatÃ­."</p></div>`;
  }else if(n===2){
    o.innerHTML = `<div class="bubble" style="margin-top:8px;"><p><strong>Alchymista:</strong> "Z kÅ™iÅ¡Å¥Ã¡lu z hor. VloÅ¾il jsem do nÄ›j runu ochrany, proto svÃ­tÃ­, proto nezhasne."</p></div>`;
  }else{
    o.innerHTML = `<div class="bubble" style="margin-top:8px;"><p><strong>Alchymista:</strong> "VÃ½bornÄ›! TeÄ vypij KoÄku a pod schody hledej runu. AÅ¾ ji najdeÅ¡, napiÅ¡ mi jejÃ­ jmÃ©no."</p></div>`;
  }
}
function check(){
  const raw=document.getElementById('runa').value;
  const norm=normalizeInput(raw);
  const hint=document.getElementById('hint');
  const cont=document.getElementById('cont');
  if(norm==='algiz' || norm==='z'){
    hint.textContent='';
    cont.innerHTML = `<div class="bubble" style="margin-top:8px;"><p><strong>Alchymista:</strong> "VÃ½bornÄ›, Algiz! Ano, to je ona â€“ runa ochrany, Å¡tÃ­t proti zlu. VÄ›dÄ›l jsem, Å¾e jsi na sprÃ¡vnÃ© stopÄ›."</p></div>
    <a class="continue-btn" href="kap9.html">ğŸ‘‰ PokraÄovat (Kapitola 9 â€“ PÅ™Ã¡nÃ­ Å¡tÄ›stÃ­)</a>`;
  }else{
    hint.textContent = 'â€Neâ€¦ vypadala jako strom se zvednutÃ½mi vÄ›tvemi. Symbol ochrany. Hledej v bestiÃ¡Å™i run!â€œ';
    cont.innerHTML='';
  }
}
</script>
</body>
</html>
