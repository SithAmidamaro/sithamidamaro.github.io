<!DOCTYPE html>
<html lang="cs"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Kapitola 23 – Když měsíc drží dech</title>
<link rel="stylesheet" href="css/style.css">
<script defer src="js/helpers.js"></script>
</head><body>
<div class="container">
  <div class="nav"><a class="btn" href="kap22a.html">← Zpět</a></div>
  <h1>Kapitola 23 – Když měsíc drží dech</h1>
  <div class="panel"><div class="dialogue">
  <img src="img/alchymista_mavajici.png" alt="Alchymista" class="avatar">
  <div class="bubble"><p><strong>Alchymista:</strong> „Cítím… úlevu. Vzpomínky se vrací po kouscích. Až měsíc vystoupí nejvýš a noc na okamžik ztichne, otevře se další brána.“</p></div>
</div>
<div class="bubble">
  <p><strong>Komunikační možnosti:</strong></p>
  <div class="choices">
    <button onclick="show23(1)">„Pověz mi o místě, kde ses cítil doma.“</button>
    <button onclick="show23(2)">„Čeho ses bál nejvíc?“</button>
    <button onclick="show23(3)">„Vzpomeneš si na své jméno?“</button>
    <button onclick="show23(4)">„Co bude teď?“</button>
  </div>
  <div id="resp23" style="margin-top:10px;"></div>
</div>
</div>
<div class="bubble">
  <p><strong>Kotva (časová):</strong> Pokračovat bude možné až 2025-09-14T23:50:00 podle <em>místního</em> času tvého zařízení.</p>
  <p id="timer" class="small"></p>
  <div id="cont23"></div>
</div>
<script>
function show23(n){
  const r = document.getElementById('resp23');
  const btns = document.querySelectorAll('.choices button');
  btns.forEach((b,i)=>{
    if(i===n-1) b.classList.add('selected');
    else b.classList.remove('selected');
  });
  if(n===1){
    r.innerHTML = `<div class='bubble'><p><strong>Alchymista:</strong> "Těch míst bylo více, tředa na Kear Morhen... zde na chatě mimo a samozřejmě můj Mlýn… To jsou místa, kde jsem se vždycky cítil jako doma."</p></div>`;
  }else if(n===2){
    r.innerHTML = `<div class='bubble'><p><strong>Alchymista:</strong> "Že moje dílo spolkne ty, pro které bylo stvořeno. Strach je dobrý sluha, ale zlý pán.<br>Naučil jsem se s ním mluvit jako s přítelem, jinak by mě sežral ve spánku."</p></div>`;
  }else if(n===3){
    r.innerHTML = `<div class='bubble'><p><strong>Alchymista:</strong> "Je jako ozvěna ve staré síni. Už ho téměř slyším… ale ještě ne.<br>Až měsíc sevře noc, možná se vrátí celé. A pak ti ho rád povím."</p></div>`;
  }else{
    r.innerHTML = `<div class='bubble'><p><strong>Alchymista:</strong> "Nejsem si ještě jist, vzpomínky se vracejí - a cítím, že až bude měsíc nejvýše, budeme vědět víc... vidím klíč a místnost, ale nevím kde to je... musíme počkat až se mi navrátí!"</p></div>`;
  }
}
//správný-čas const target = new Date('2025-09-14T23:50:00'); // LOCAL time (no Z)
const target = new Date('2025-08-26T14:50:00'); // LOCAL time (no Z)
function pad(n){return n<10?'0'+n:n;}
function tick(){
  const ms = target - new Date();
  const t = document.getElementById('timer'); const c=document.getElementById('cont23');
  if(ms<=0){ t.textContent='„Je čas. Jdeme dál.“'; c.innerHTML=`<a class='continue-btn' href='kap24.html'>👉 Pokračovat (Kapitola 24)</a>`; clearInterval(iv); }
  else{
    const s=Math.floor(ms/1000),h=Math.floor(s/3600),m=Math.floor((s%3600)/60),ss=s%60;
    t.textContent=`Odemkne se za: ${(h>0?(h+'h '):'')}${String(m).padStart(2,'0')}:${String(ss).padStart(2,'0')}`;
  }
}
const iv=setInterval(tick,1000); tick();
</script>
</div>
</div>
</body></html>