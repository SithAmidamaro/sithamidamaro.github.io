<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Zakl√≠naƒçsk√Ω v√≠kend ‚Äì Duch Alchymisty</title>
  <link rel="stylesheet" href="css/style.css">
  <style>
    /* Lok√°ln√≠ styly pro √∫vodn√≠ ritu√°l */
    .container { text-align: center; }
    .ritual-text { text-align: center; font-size: 1.1em; margin: 1rem 0 1.5rem; }
    .summon-circle {
      width: 260px; height: 260px; border-radius: 50%;
      margin: 1rem auto; position: relative; cursor: pointer;
      background: radial-gradient(closest-side, rgba(90,40,180,0.25), rgba(20,10,40,0.6)),
                  conic-gradient(from 0deg, rgba(130, 80, 255, 0.5), rgba(40, 200, 255, 0.5), rgba(130, 80, 255, 0.5));
      border: 3px solid rgba(120, 90, 255, 0.7);
      box-shadow: 0 0 20px 6px rgba(120, 90, 255, 0.45), inset 0 0 18px rgba(40, 200, 255, 0.35);
      transition: transform 120ms ease, box-shadow 200ms ease;
    }
    .summon-circle:hover { transform: scale(1.02); box-shadow: 0 0 28px 10px rgba(120, 90, 255, 0.6), inset 0 0 22px rgba(40, 200, 255, 0.45); }
    .summon-circle:active { transform: scale(0.99); }
    .summon-circle::before {
      content: "‚úß"; color: #9cf; font-size: 2.25rem; line-height: 1;
      position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%);
      text-shadow: 0 0 10px rgba(60,220,255,0.9), 0 0 22px rgba(140,100,255,0.8);
    }
    .ritual-gif { max-width: 100%; height: auto; margin: 1.25rem auto 0; display: none; }
    .hint { font-size: .95em; opacity: .85; }
    @media (prefers-reduced-motion: reduce) {
      .summon-circle, .summon-circle:hover { transition: none; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>‚ú®üåå Transmutaƒçn√≠ kruh vyvol√°n√≠ üåå‚ú®</h1>
    <p class="ritual-text"><span style="font-size:1.5em; color:#3af;">‚ú®‚ö°</span>Pro zah√°jen√≠ ritu√°lu klikni na transmutaƒçn√≠ kruh a vyƒçkej na dokonƒçen√≠.<br><span style="font-size:1.5em; color:#3af;">‚ö°‚ú®</span></p>

    <!-- Klikac√≠ transmutaƒçn√≠ kruh (spust√≠ gif + zvuk + p≈ôesmƒõrov√°n√≠) -->
    <div id="summonTrigger" class="summon-circle" role="button" tabindex="0" aria-label="Spustit vyvol√°n√≠"></div>

    <!-- Gif ritu√°lu, zobrazen jako pozad√≠ a≈æ po kliknut√≠ -->
    <div id="ritualBg" style="display:none; position:fixed; left:0;top:0;width:100vw;height:100vh;z-index:0;pointer-events:none;">
      <img src="img/ritual.gif" alt="Ritu√°l vyvol√°n√≠" style="width:100vw;height:100vh;object-fit:cover;opacity:0.35;">
    </div>

    <!-- Zvuk se spust√≠ a≈æ po kliknut√≠ (kv≈Øli blokaci autoplay) -->
    <audio id="ritualAudio" src="audio/magic.mp3" loop></audio>
  </div>

  <script>
    (function(){
      var started = false;
      var trigger = document.getElementById('summonTrigger');
  var bg = document.getElementById('ritualBg');
      var audio = document.getElementById('ritualAudio');

      function startRitual(){
        if (started) return; started = true;
        // skryj kruh a zobraz gif jako pozad√≠
        trigger.style.display = 'none';
        bg.style.display = 'block';
        // pokus o p≈ôehr√°n√≠ zvuku po u≈æivatelsk√©m interaktivn√≠m vstupu
        try { var p = audio.play(); if (p && typeof p.catch === 'function') { p.catch(function(){ /* ignorovat chybu autoplay */ }); } } catch(e) {}
        // p≈ôesmƒõrov√°n√≠ po ~6s
        setTimeout(function(){ window.location.href = 'kap3.html'; }, 6000);
      }

      trigger.addEventListener('click', startRitual);
      trigger.addEventListener('keydown', function(e){
        if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); startRitual(); }
      });
    })();
  </script>
</body>
</html>
